{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"animationDuration\", \"bringFocusInside\", \"children\", \"content\", \"display\", \"minHeight\", \"minWidth\", \"onBodyClick\", \"onClose\", \"onCloseComplete\", \"onOpen\", \"onOpenComplete\", \"position\", \"shouldCloseOnExternalClick\", \"shouldCloseOnEscapePress\", \"statelessProps\", \"trigger\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React, { memo, forwardRef, useRef, useState, useEffect, useImperativeHandle, useCallback, useMemo } from 'react';\nimport cx from 'classnames';\nimport { css as glamorCss } from 'glamor';\nimport PropTypes from 'prop-types';\nimport { Position } from '../../constants';\nimport { useMergedRef } from '../../hooks';\nimport { Positioner } from '../../positioner';\nimport { Tooltip } from '../../tooltip';\nimport PopoverStateless from './PopoverStateless';\n\nvar noop = function noop() {};\n\nvar emptyProps = {};\nvar Popover = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function Popover(_ref, forwardedRef) {\n  var _ref$animationDuratio = _ref.animationDuration,\n      animationDuration = _ref$animationDuratio === void 0 ? 300 : _ref$animationDuratio,\n      _ref$bringFocusInside = _ref.bringFocusInside,\n      shouldBringFocusInside = _ref$bringFocusInside === void 0 ? false : _ref$bringFocusInside,\n      children = _ref.children,\n      content = _ref.content,\n      display = _ref.display,\n      _ref$minHeight = _ref.minHeight,\n      minHeight = _ref$minHeight === void 0 ? 40 : _ref$minHeight,\n      _ref$minWidth = _ref.minWidth,\n      minWidth = _ref$minWidth === void 0 ? 200 : _ref$minWidth,\n      _ref$onBodyClick = _ref.onBodyClick,\n      onBodyClick = _ref$onBodyClick === void 0 ? noop : _ref$onBodyClick,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? noop : _ref$onClose,\n      _ref$onCloseComplete = _ref.onCloseComplete,\n      onCloseComplete = _ref$onCloseComplete === void 0 ? noop : _ref$onCloseComplete,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? noop : _ref$onOpen,\n      _ref$onOpenComplete = _ref.onOpenComplete,\n      onOpenComplete = _ref$onOpenComplete === void 0 ? noop : _ref$onOpenComplete,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? Position.BOTTOM : _ref$position,\n      _ref$shouldCloseOnExt = _ref.shouldCloseOnExternalClick,\n      shouldCloseOnExternalClick = _ref$shouldCloseOnExt === void 0 ? true : _ref$shouldCloseOnExt,\n      _ref$shouldCloseOnEsc = _ref.shouldCloseOnEscapePress,\n      shouldCloseOnEscapePress = _ref$shouldCloseOnEsc === void 0 ? true : _ref$shouldCloseOnEsc,\n      _ref$statelessProps = _ref.statelessProps,\n      statelessProps = _ref$statelessProps === void 0 ? emptyProps : _ref$statelessProps,\n      _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? 'click' : _ref$trigger,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(props.isShown),\n      _useState2 = _slicedToArray(_useState, 2),\n      isShown = _useState2[0],\n      setIsShown = _useState2[1];\n\n  var popoverNode = useRef();\n  var setPopoverNode = useMergedRef(popoverNode);\n  var targetRef = useRef();\n  var setTargetRef = useMergedRef(targetRef);\n  /**\n   * Methods borrowed from BlueprintJS\n   * https://github.com/palantir/blueprint/blob/release/2.0.0/packages/core/src/components/overlay/overlay.tsx\n   */\n\n  var bringFocusInside = useCallback(function (e) {\n    if (isShown && e) {\n      e.preventDefault();\n    } // Always delay focus manipulation to just before repaint to prevent scroll jumping\n\n\n    return requestAnimationFrame(function () {\n      // Container ref may be undefined between component mounting and Portal rendering\n      // ActiveElement may be undefined in some rare cases in IE\n      if (popoverNode.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      document.activeElement == null || // eslint-disable-line eqeqeq, no-eq-null\n      !isShown) {\n        return;\n      }\n\n      var isFocusOutsideModal = !popoverNode.current.contains(document.activeElement);\n\n      if (isFocusOutsideModal) {\n        // Element marked autofocus has higher priority than the other elements\n        var autofocusElement = popoverNode.current.querySelector('[autofocus]:not([disabled])');\n\n        if (autofocusElement) {\n          // Return early to avoid unnecessary dom queries\n          return autofocusElement.focus();\n        }\n\n        var wrapperElement = popoverNode.current.querySelector('[tabindex]:not([disabled])');\n\n        if (wrapperElement) {\n          return wrapperElement.focus();\n        }\n\n        var buttonElements = popoverNode.current.querySelectorAll('button:not([disabled]), a:not([disabled]), [role=\"menuitem\"]:not([disabled]), [role=\"menuitemradio\"]:not([disabled])');\n\n        if (buttonElements.length > 0) {\n          return buttonElements[0].focus();\n        }\n      }\n    });\n  }, [isShown, popoverNode.current]);\n  var bringFocusBackToTarget = useCallback(function () {\n    return requestAnimationFrame(function () {\n      if (targetRef.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      popoverNode.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      document.activeElement == null // eslint-disable-line eqeqeq, no-eq-null\n      ) {\n        return;\n      }\n\n      var isFocusInsideModal = popoverNode.current.contains(document.activeElement); // Bring back focus on the target.\n\n      if (document.activeElement === document.body || isFocusInsideModal) {\n        targetRef.current.focus();\n      }\n    });\n  }, [popoverNode.current, targetRef.current]);\n  var open = useCallback(function () {\n    if (isShown) {\n      return;\n    }\n\n    setIsShown(true);\n    onOpen();\n  }, [setIsShown, onOpen, isShown]);\n  var close = useCallback(function () {\n    if (!isShown) {\n      return;\n    }\n\n    setIsShown(false);\n    bringFocusBackToTarget();\n    onClose();\n  }, [setIsShown, bringFocusBackToTarget, onClose, isShown]);\n  useImperativeHandle(forwardedRef, function () {\n    return {\n      open: open,\n      close: close\n    };\n  }, [open, close]); // If `props.isShown` is a boolean, treat as a controlled component\n  // `open` and `close` should be applied when it changes\n\n  useEffect(function () {\n    if (typeof props.isShown !== 'boolean' || props.isShown === isShown) {\n      return;\n    }\n\n    if (props.isShown) {\n      open();\n    } else {\n      close();\n    }\n  }, [props.isShown, isShown]);\n  var toggle = useCallback(function () {\n    return isShown ? close() : open();\n  }, [isShown, close, open]);\n  var handleOpenHover = useMemo(function () {\n    return trigger === 'hover' ? open : undefined;\n  }, [trigger, open]);\n  var handleCloseHover = useMemo(function () {\n    return trigger === 'hover' ? close : undefined;\n  }, [trigger, close]);\n  var handleKeyDown = useCallback(function (event) {\n    return event.key === 'ArrowDown' ? bringFocusInside(event) : undefined;\n  }, [bringFocusInside]);\n  var onEsc = useCallback(function (event) {\n    return event.key === 'Escape' && shouldCloseOnEscapePress ? close() : undefined;\n  }, [shouldCloseOnEscapePress, close]);\n  var handleBodyClick = useCallback(function (event) {\n    // Ignore clicks on the popover or button\n    if (targetRef.current && targetRef.current.contains(event.target)) {\n      return;\n    }\n\n    if (popoverNode.current && popoverNode.current.contains(event.target)) {\n      return;\n    } // Notify body click\n\n\n    onBodyClick(event);\n\n    if (shouldCloseOnExternalClick !== false) {\n      close();\n    }\n  }, [onBodyClick, shouldCloseOnExternalClick, close, targetRef.current, popoverNode.current]);\n  var handleOpenComplete = useCallback(function () {\n    if (shouldBringFocusInside) bringFocusInside();\n    onOpenComplete();\n  }, [shouldBringFocusInside, bringFocusInside, onOpenComplete]);\n  useEffect(function () {\n    if (isShown) {\n      document.body.addEventListener('click', handleBodyClick, false);\n      document.body.addEventListener('keydown', onEsc, false);\n    } else {\n      document.body.removeEventListener('click', handleBodyClick, false);\n      document.body.removeEventListener('keydown', onEsc, false);\n    }\n\n    return function () {\n      document.body.removeEventListener('click', handleBodyClick, false);\n      document.body.removeEventListener('keydown', onEsc, false);\n    };\n  }, [isShown, handleBodyClick, onEsc]);\n  var renderTarget = useCallback(function (_ref2) {\n    var getRef = _ref2.getRef,\n        isShown = _ref2.isShown;\n    var isTooltipInside = children && children.type === Tooltip;\n\n    var getTargetRef = function getTargetRef(ref) {\n      setTargetRef(ref);\n      getRef(ref);\n    };\n    /**\n     * When a function is passed, you can control the Popover manually.\n     */\n\n\n    if (typeof children === 'function') {\n      return children({\n        getRef: getTargetRef,\n        isShown: isShown,\n        toggle: toggle\n      });\n    }\n\n    var popoverTargetProps = {\n      onClick: toggle,\n      onMouseEnter: handleOpenHover,\n      onKeyDown: handleKeyDown,\n      role: 'button',\n      'aria-expanded': isShown,\n      'aria-haspopup': true\n    };\n    /**\n     * Tooltips can be used within a Popover (not the other way around)\n     * In this case the children is the Tooltip instead of a button.\n     * Pass the properties to the Tooltip and let the Tooltip\n     * add the properties to the target.\n     */\n\n    if (isTooltipInside) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        popoverProps: _objectSpread({\n          getTargetRef: getTargetRef,\n          isShown: isShown\n        }, popoverTargetProps)\n      });\n    }\n    /**\n     * With normal usage only popover props end up on the target.\n     */\n\n\n    return /*#__PURE__*/React.cloneElement(children, _objectSpread({\n      ref: getTargetRef\n    }, popoverTargetProps));\n  }, [children, setTargetRef, toggle, handleOpenHover, handleKeyDown]); // If `props.isShown` is a boolean, popover is controlled manually, not via mouse events\n\n  var shown = typeof props.isShown === 'boolean' ? props.isShown : isShown;\n  var contentToRender = useMemo(function () {\n    return typeof content === 'function' ? content({\n      close: close\n    }) : content;\n  }, [content, close]);\n  return /*#__PURE__*/React.createElement(Positioner, {\n    target: renderTarget,\n    isShown: shown,\n    position: position,\n    animationDuration: animationDuration,\n    onOpenComplete: handleOpenComplete,\n    onCloseComplete: onCloseComplete\n  }, function (_ref3) {\n    var css = _ref3.css,\n        getRef = _ref3.getRef,\n        state = _ref3.state,\n        style = _ref3.style;\n    return /*#__PURE__*/React.createElement(PopoverStateless, _extends({\n      ref: function ref(_ref4) {\n        setPopoverNode(_ref4);\n        getRef(_ref4);\n      },\n      \"data-state\": state,\n      display: display,\n      minWidth: minWidth,\n      minHeight: minHeight\n    }, statelessProps, {\n      className: cx(statelessProps.className, glamorCss(css, style, statelessProps.style).toString()) // Overwrite `statelessProps.style` since we are including it via className\n      ,\n      style: undefined,\n      onMouseLeave: handleCloseHover\n    }), contentToRender);\n  });\n}));\nPopover.propTypes = {\n  /**\n   * The position the Popover is on. Smart positioning might override this.\n   */\n  position: PropTypes.oneOf([Position.TOP, Position.TOP_LEFT, Position.TOP_RIGHT, Position.BOTTOM, Position.BOTTOM_LEFT, Position.BOTTOM_RIGHT, Position.LEFT, Position.RIGHT]),\n\n  /**\n   * Controls whether the Popover is shown or not.\n   * - When `true`, the component is always shown, regardless of the click or hover trigger.\n   * - When `false`, the component is never shown, regardless of the click or hover trigger.\n   * - When `undefined`, the component is uncontrolled and the isShown state is handled internally\n   * (i.e. the Popover is shown based on the click or hover trigger)\n   */\n  isShown: PropTypes.bool,\n\n  /**\n   * Open the Popover based on click or hover. Default is click.\n   */\n  trigger: PropTypes.oneOf(['click', 'hover']),\n\n  /**\n   * The content of the Popover.\n   */\n  content: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n   * The target button of the Popover.\n   * When a function the following arguments are passed:\n   * ({ toggle: Function -> Void, getRef: Function -> Ref, isShown: Bool })\n   */\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n\n  /**\n   * The display property passed to the Popover card.\n   */\n  display: PropTypes.string,\n\n  /**\n   * The min width of the Popover card.\n   */\n  minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The min height of the Popover card.\n   */\n  minHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * Properties passed through to the Popover card.\n   */\n  statelessProps: PropTypes.shape(PopoverStateless.propTypes),\n\n  /**\n   * Duration of the animation.\n   */\n  animationDuration: PropTypes.number,\n\n  /**\n   * Function called when the Popover opens.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Function fired when Popover closes.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Function that will be called when the enter transition is complete.\n   */\n  onOpenComplete: PropTypes.func,\n\n  /**\n   * Function that will be called when the exit transition is complete.\n   */\n  onCloseComplete: PropTypes.func,\n\n  /**\n   * Function that will be called when the body is clicked.\n   */\n  onBodyClick: PropTypes.func,\n\n  /**\n   * When true, bring focus inside of the Popover on open.\n   */\n  bringFocusInside: PropTypes.bool,\n\n  /**\n   * Boolean indicating if clicking outside the dialog should close the dialog.\n   */\n  shouldCloseOnExternalClick: PropTypes.bool,\n\n  /**\n   * Boolean indicating if pressing the esc key should close the dialog.\n   */\n  shouldCloseOnEscapePress: PropTypes.bool\n};\nexport default Popover;","map":{"version":3,"sources":["D:/study/WifiAssistant/WifiAssistant/node_modules/evergreen-ui/esm/popover/src/Popover.js"],"names":["_extends","_defineProperty","_slicedToArray","_objectWithoutProperties","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","memo","forwardRef","useRef","useState","useEffect","useImperativeHandle","useCallback","useMemo","cx","css","glamorCss","PropTypes","Position","useMergedRef","Positioner","Tooltip","PopoverStateless","noop","emptyProps","Popover","_ref","forwardedRef","_ref$animationDuratio","animationDuration","_ref$bringFocusInside","bringFocusInside","shouldBringFocusInside","children","content","display","_ref$minHeight","minHeight","_ref$minWidth","minWidth","_ref$onBodyClick","onBodyClick","_ref$onClose","onClose","_ref$onCloseComplete","onCloseComplete","_ref$onOpen","onOpen","_ref$onOpenComplete","onOpenComplete","_ref$position","position","BOTTOM","_ref$shouldCloseOnExt","shouldCloseOnExternalClick","_ref$shouldCloseOnEsc","shouldCloseOnEscapePress","_ref$statelessProps","statelessProps","_ref$trigger","trigger","props","_useState","isShown","_useState2","setIsShown","popoverNode","setPopoverNode","targetRef","setTargetRef","e","preventDefault","requestAnimationFrame","current","document","activeElement","isFocusOutsideModal","contains","autofocusElement","querySelector","focus","wrapperElement","buttonElements","querySelectorAll","bringFocusBackToTarget","isFocusInsideModal","body","open","close","toggle","handleOpenHover","undefined","handleCloseHover","handleKeyDown","event","onEsc","handleBodyClick","handleOpenComplete","addEventListener","removeEventListener","renderTarget","_ref2","getRef","isTooltipInside","type","getTargetRef","ref","popoverTargetProps","onClick","onMouseEnter","onKeyDown","role","cloneElement","popoverProps","shown","contentToRender","createElement","_ref3","state","style","_ref4","className","toString","onMouseLeave","propTypes","oneOf","TOP","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","RIGHT","bool","oneOfType","node","func","isRequired","element","string","number","shape"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"animationDuration\", \"bringFocusInside\", \"children\", \"content\", \"display\", \"minHeight\", \"minWidth\", \"onBodyClick\", \"onClose\", \"onCloseComplete\", \"onOpen\", \"onOpenComplete\", \"position\", \"shouldCloseOnExternalClick\", \"shouldCloseOnEscapePress\", \"statelessProps\", \"trigger\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { memo, forwardRef, useRef, useState, useEffect, useImperativeHandle, useCallback, useMemo } from 'react';\nimport cx from 'classnames';\nimport { css as glamorCss } from 'glamor';\nimport PropTypes from 'prop-types';\nimport { Position } from '../../constants';\nimport { useMergedRef } from '../../hooks';\nimport { Positioner } from '../../positioner';\nimport { Tooltip } from '../../tooltip';\nimport PopoverStateless from './PopoverStateless';\n\nvar noop = function noop() {};\n\nvar emptyProps = {};\nvar Popover = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function Popover(_ref, forwardedRef) {\n  var _ref$animationDuratio = _ref.animationDuration,\n      animationDuration = _ref$animationDuratio === void 0 ? 300 : _ref$animationDuratio,\n      _ref$bringFocusInside = _ref.bringFocusInside,\n      shouldBringFocusInside = _ref$bringFocusInside === void 0 ? false : _ref$bringFocusInside,\n      children = _ref.children,\n      content = _ref.content,\n      display = _ref.display,\n      _ref$minHeight = _ref.minHeight,\n      minHeight = _ref$minHeight === void 0 ? 40 : _ref$minHeight,\n      _ref$minWidth = _ref.minWidth,\n      minWidth = _ref$minWidth === void 0 ? 200 : _ref$minWidth,\n      _ref$onBodyClick = _ref.onBodyClick,\n      onBodyClick = _ref$onBodyClick === void 0 ? noop : _ref$onBodyClick,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? noop : _ref$onClose,\n      _ref$onCloseComplete = _ref.onCloseComplete,\n      onCloseComplete = _ref$onCloseComplete === void 0 ? noop : _ref$onCloseComplete,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? noop : _ref$onOpen,\n      _ref$onOpenComplete = _ref.onOpenComplete,\n      onOpenComplete = _ref$onOpenComplete === void 0 ? noop : _ref$onOpenComplete,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? Position.BOTTOM : _ref$position,\n      _ref$shouldCloseOnExt = _ref.shouldCloseOnExternalClick,\n      shouldCloseOnExternalClick = _ref$shouldCloseOnExt === void 0 ? true : _ref$shouldCloseOnExt,\n      _ref$shouldCloseOnEsc = _ref.shouldCloseOnEscapePress,\n      shouldCloseOnEscapePress = _ref$shouldCloseOnEsc === void 0 ? true : _ref$shouldCloseOnEsc,\n      _ref$statelessProps = _ref.statelessProps,\n      statelessProps = _ref$statelessProps === void 0 ? emptyProps : _ref$statelessProps,\n      _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? 'click' : _ref$trigger,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(props.isShown),\n      _useState2 = _slicedToArray(_useState, 2),\n      isShown = _useState2[0],\n      setIsShown = _useState2[1];\n\n  var popoverNode = useRef();\n  var setPopoverNode = useMergedRef(popoverNode);\n  var targetRef = useRef();\n  var setTargetRef = useMergedRef(targetRef);\n  /**\n   * Methods borrowed from BlueprintJS\n   * https://github.com/palantir/blueprint/blob/release/2.0.0/packages/core/src/components/overlay/overlay.tsx\n   */\n\n  var bringFocusInside = useCallback(function (e) {\n    if (isShown && e) {\n      e.preventDefault();\n    } // Always delay focus manipulation to just before repaint to prevent scroll jumping\n\n\n    return requestAnimationFrame(function () {\n      // Container ref may be undefined between component mounting and Portal rendering\n      // ActiveElement may be undefined in some rare cases in IE\n      if (popoverNode.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      document.activeElement == null || // eslint-disable-line eqeqeq, no-eq-null\n      !isShown) {\n        return;\n      }\n\n      var isFocusOutsideModal = !popoverNode.current.contains(document.activeElement);\n\n      if (isFocusOutsideModal) {\n        // Element marked autofocus has higher priority than the other elements\n        var autofocusElement = popoverNode.current.querySelector('[autofocus]:not([disabled])');\n\n        if (autofocusElement) {\n          // Return early to avoid unnecessary dom queries\n          return autofocusElement.focus();\n        }\n\n        var wrapperElement = popoverNode.current.querySelector('[tabindex]:not([disabled])');\n\n        if (wrapperElement) {\n          return wrapperElement.focus();\n        }\n\n        var buttonElements = popoverNode.current.querySelectorAll('button:not([disabled]), a:not([disabled]), [role=\"menuitem\"]:not([disabled]), [role=\"menuitemradio\"]:not([disabled])');\n\n        if (buttonElements.length > 0) {\n          return buttonElements[0].focus();\n        }\n      }\n    });\n  }, [isShown, popoverNode.current]);\n  var bringFocusBackToTarget = useCallback(function () {\n    return requestAnimationFrame(function () {\n      if (targetRef.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      popoverNode.current == null || // eslint-disable-line eqeqeq, no-eq-null\n      document.activeElement == null // eslint-disable-line eqeqeq, no-eq-null\n      ) {\n        return;\n      }\n\n      var isFocusInsideModal = popoverNode.current.contains(document.activeElement); // Bring back focus on the target.\n\n      if (document.activeElement === document.body || isFocusInsideModal) {\n        targetRef.current.focus();\n      }\n    });\n  }, [popoverNode.current, targetRef.current]);\n  var open = useCallback(function () {\n    if (isShown) {\n      return;\n    }\n\n    setIsShown(true);\n    onOpen();\n  }, [setIsShown, onOpen, isShown]);\n  var close = useCallback(function () {\n    if (!isShown) {\n      return;\n    }\n\n    setIsShown(false);\n    bringFocusBackToTarget();\n    onClose();\n  }, [setIsShown, bringFocusBackToTarget, onClose, isShown]);\n  useImperativeHandle(forwardedRef, function () {\n    return {\n      open: open,\n      close: close\n    };\n  }, [open, close]); // If `props.isShown` is a boolean, treat as a controlled component\n  // `open` and `close` should be applied when it changes\n\n  useEffect(function () {\n    if (typeof props.isShown !== 'boolean' || props.isShown === isShown) {\n      return;\n    }\n\n    if (props.isShown) {\n      open();\n    } else {\n      close();\n    }\n  }, [props.isShown, isShown]);\n  var toggle = useCallback(function () {\n    return isShown ? close() : open();\n  }, [isShown, close, open]);\n  var handleOpenHover = useMemo(function () {\n    return trigger === 'hover' ? open : undefined;\n  }, [trigger, open]);\n  var handleCloseHover = useMemo(function () {\n    return trigger === 'hover' ? close : undefined;\n  }, [trigger, close]);\n  var handleKeyDown = useCallback(function (event) {\n    return event.key === 'ArrowDown' ? bringFocusInside(event) : undefined;\n  }, [bringFocusInside]);\n  var onEsc = useCallback(function (event) {\n    return event.key === 'Escape' && shouldCloseOnEscapePress ? close() : undefined;\n  }, [shouldCloseOnEscapePress, close]);\n  var handleBodyClick = useCallback(function (event) {\n    // Ignore clicks on the popover or button\n    if (targetRef.current && targetRef.current.contains(event.target)) {\n      return;\n    }\n\n    if (popoverNode.current && popoverNode.current.contains(event.target)) {\n      return;\n    } // Notify body click\n\n\n    onBodyClick(event);\n\n    if (shouldCloseOnExternalClick !== false) {\n      close();\n    }\n  }, [onBodyClick, shouldCloseOnExternalClick, close, targetRef.current, popoverNode.current]);\n  var handleOpenComplete = useCallback(function () {\n    if (shouldBringFocusInside) bringFocusInside();\n    onOpenComplete();\n  }, [shouldBringFocusInside, bringFocusInside, onOpenComplete]);\n  useEffect(function () {\n    if (isShown) {\n      document.body.addEventListener('click', handleBodyClick, false);\n      document.body.addEventListener('keydown', onEsc, false);\n    } else {\n      document.body.removeEventListener('click', handleBodyClick, false);\n      document.body.removeEventListener('keydown', onEsc, false);\n    }\n\n    return function () {\n      document.body.removeEventListener('click', handleBodyClick, false);\n      document.body.removeEventListener('keydown', onEsc, false);\n    };\n  }, [isShown, handleBodyClick, onEsc]);\n  var renderTarget = useCallback(function (_ref2) {\n    var getRef = _ref2.getRef,\n        isShown = _ref2.isShown;\n    var isTooltipInside = children && children.type === Tooltip;\n\n    var getTargetRef = function getTargetRef(ref) {\n      setTargetRef(ref);\n      getRef(ref);\n    };\n    /**\n     * When a function is passed, you can control the Popover manually.\n     */\n\n\n    if (typeof children === 'function') {\n      return children({\n        getRef: getTargetRef,\n        isShown: isShown,\n        toggle: toggle\n      });\n    }\n\n    var popoverTargetProps = {\n      onClick: toggle,\n      onMouseEnter: handleOpenHover,\n      onKeyDown: handleKeyDown,\n      role: 'button',\n      'aria-expanded': isShown,\n      'aria-haspopup': true\n    };\n    /**\n     * Tooltips can be used within a Popover (not the other way around)\n     * In this case the children is the Tooltip instead of a button.\n     * Pass the properties to the Tooltip and let the Tooltip\n     * add the properties to the target.\n     */\n\n    if (isTooltipInside) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        popoverProps: _objectSpread({\n          getTargetRef: getTargetRef,\n          isShown: isShown\n        }, popoverTargetProps)\n      });\n    }\n    /**\n     * With normal usage only popover props end up on the target.\n     */\n\n\n    return /*#__PURE__*/React.cloneElement(children, _objectSpread({\n      ref: getTargetRef\n    }, popoverTargetProps));\n  }, [children, setTargetRef, toggle, handleOpenHover, handleKeyDown]); // If `props.isShown` is a boolean, popover is controlled manually, not via mouse events\n\n  var shown = typeof props.isShown === 'boolean' ? props.isShown : isShown;\n  var contentToRender = useMemo(function () {\n    return typeof content === 'function' ? content({\n      close: close\n    }) : content;\n  }, [content, close]);\n  return /*#__PURE__*/React.createElement(Positioner, {\n    target: renderTarget,\n    isShown: shown,\n    position: position,\n    animationDuration: animationDuration,\n    onOpenComplete: handleOpenComplete,\n    onCloseComplete: onCloseComplete\n  }, function (_ref3) {\n    var css = _ref3.css,\n        getRef = _ref3.getRef,\n        state = _ref3.state,\n        style = _ref3.style;\n    return /*#__PURE__*/React.createElement(PopoverStateless, _extends({\n      ref: function ref(_ref4) {\n        setPopoverNode(_ref4);\n        getRef(_ref4);\n      },\n      \"data-state\": state,\n      display: display,\n      minWidth: minWidth,\n      minHeight: minHeight\n    }, statelessProps, {\n      className: cx(statelessProps.className, glamorCss(css, style, statelessProps.style).toString()) // Overwrite `statelessProps.style` since we are including it via className\n      ,\n      style: undefined,\n      onMouseLeave: handleCloseHover\n    }), contentToRender);\n  });\n}));\nPopover.propTypes = {\n  /**\n   * The position the Popover is on. Smart positioning might override this.\n   */\n  position: PropTypes.oneOf([Position.TOP, Position.TOP_LEFT, Position.TOP_RIGHT, Position.BOTTOM, Position.BOTTOM_LEFT, Position.BOTTOM_RIGHT, Position.LEFT, Position.RIGHT]),\n\n  /**\n   * Controls whether the Popover is shown or not.\n   * - When `true`, the component is always shown, regardless of the click or hover trigger.\n   * - When `false`, the component is never shown, regardless of the click or hover trigger.\n   * - When `undefined`, the component is uncontrolled and the isShown state is handled internally\n   * (i.e. the Popover is shown based on the click or hover trigger)\n   */\n  isShown: PropTypes.bool,\n\n  /**\n   * Open the Popover based on click or hover. Default is click.\n   */\n  trigger: PropTypes.oneOf(['click', 'hover']),\n\n  /**\n   * The content of the Popover.\n   */\n  content: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n   * The target button of the Popover.\n   * When a function the following arguments are passed:\n   * ({ toggle: Function -> Void, getRef: Function -> Ref, isShown: Bool })\n   */\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n\n  /**\n   * The display property passed to the Popover card.\n   */\n  display: PropTypes.string,\n\n  /**\n   * The min width of the Popover card.\n   */\n  minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The min height of the Popover card.\n   */\n  minHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * Properties passed through to the Popover card.\n   */\n  statelessProps: PropTypes.shape(PopoverStateless.propTypes),\n\n  /**\n   * Duration of the animation.\n   */\n  animationDuration: PropTypes.number,\n\n  /**\n   * Function called when the Popover opens.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Function fired when Popover closes.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Function that will be called when the enter transition is complete.\n   */\n  onOpenComplete: PropTypes.func,\n\n  /**\n   * Function that will be called when the exit transition is complete.\n   */\n  onCloseComplete: PropTypes.func,\n\n  /**\n   * Function that will be called when the body is clicked.\n   */\n  onBodyClick: PropTypes.func,\n\n  /**\n   * When true, bring focus inside of the Popover on open.\n   */\n  bringFocusInside: PropTypes.bool,\n\n  /**\n   * Boolean indicating if clicking outside the dialog should close the dialog.\n   */\n  shouldCloseOnExternalClick: PropTypes.bool,\n\n  /**\n   * Boolean indicating if pressing the esc key should close the dialog.\n   */\n  shouldCloseOnEscapePress: PropTypes.bool\n};\nexport default Popover;"]},"metadata":{},"sourceType":"module","externalDependencies":[]}